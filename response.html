<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Be My Valentine?</title>
  <script type="text/javascript"
  src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
</script>
<script type="text/javascript">
(function(){
emailjs.init({
  publicKey: "_k1eZ3JxFUdZ5IWjp",
});
})();
</script>
  <style>
    /* General Styles */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background-color: #fce4ec;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    h1, p {
      text-align: center;
      color: #ff4081;
    }

    /* Heart Animation */
    .heart {
      position: absolute;
      width: 20px;
      height: 20px;
      background-color: #ff4081;
      clip-path: polygon(50% 0%, 0% 30%, 0% 100%, 50% 80%, 100% 100%, 100% 30%);
      animation: fly 4s infinite ease-in-out;
      opacity: 0.8;
    }

    /* Random Animations for Multiple Hearts */
    .heart:nth-child(2) { animation-delay: 0.5s; left: 25%; }
    .heart:nth-child(3) { animation-delay: 1s; left: 50%; }
    .heart:nth-child(4) { animation-delay: 1.5s; left: 75%; }

    @keyframes fly {
      0% {
        transform: translateY(100vh) scale(0.5);
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        transform: translateY(-20vh) scale(1);
        opacity: 0;
      }
    }

    /* Valentine Message */
    #message {
      display: none;
      text-align: center;
    }

    .buttons-container {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }

    /* Buttons */
    .btn {
      padding: 10px 20px;
      font-size: 18px;
      color: #fff;
      background-color: #f50057;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s ease;
    }

    .btn:hover {
      background-color: #d50048;
    }
  </style>
</head>
<body>
  <!-- Heart Animation -->
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>
  <div class="heart"></div>

  <!-- Valentine Message -->
  <div id="message">
    <h1>You're my favorite girl, my life, my everything ❤️</h1>
    <p>Will you be my Valentine?</p>
    <br/>
    <br/>
    <div class="buttons-container">
      <button class="btn" onclick="sendResponse('Yes')">Yes</button>
      <button class="btn" onclick="sendResponse('No')">No (YES)</button>
    </div>
  </div>

<script>
    // Initialize EmailJS with your public key
    (function() {
      emailjs.init("_k1eZ3JxFUdZ5IWjp");  // Replace with your actual public key
    })();
  
    // Show message after heart animation
    setTimeout(() => {
      document.querySelectorAll('.heart').forEach(heart => heart.style.display = 'none');
      document.getElementById('message').style.display = 'block';
    }, 4000);
  
    function sendResponse(response) {
      console.log("Response chosen: ", response);  // Debugging line to check chosen response
      if (response === 'Yes') {
        alert("Yay! You've made my day baby Ally! I'm the luckiest girl alive! ❤️");
        setTimeout(() => {
          window.location.href = "https://youtu.be/AqPBfbLoF_M?si=C1OOenbJjj-KR1QH";  // Redirect after the alert
        }, 2000); // 2-second delay before redirecting
      } else {
        alert("I tricked you into saying yes anyways princess ;)");
      }
  
      sendEmail(response); // Call to send email with the response
    }
  
    function sendEmail(response) {
      console.log("Sending email with response: ", response);  // Debugging line to check the email sending function
      emailjs.send("service_dmikwej", "template_8cd8qtg", {
        to_email: "kalistareddy15@gmail.com",  // Your email where you want the response
        from_name: "Ally",  // Optional: Sender's name
        reply_to: "kalistareddy15@gmail.com",  // Where replies should go (you)
        response: response,  // The actual response value from the Valentine message
      }).then(
        function(response) {
          console.log("SUCCESS!", response);  // Check success response from EmailJS
        },
        function(error) {
          console.log("FAILED...", error);  // Check error response if email fails
          console.log("Error details: ", error.text);  // Detailed error message from EmailJS
        }
      );
    }
  </script>  
</body>
</html>